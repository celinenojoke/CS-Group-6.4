# Again, don't forget to download Maps! (pip install streamlit googlemaps)
# The API I tried to use is called "Maps JavaScript API" and available in the Google Cloud
import streamlit as st
import googlemaps

# Set Google Maps API key
google_maps_api_key = "AIzaSyDkY3EN0A9dF-B8_B5f03CUnjSl7Y_HDjU"
gmaps = googlemaps.Client(key=google_maps_api_key)

def get_directions(origin, destination):
    directions_result = gmaps.directions(origin, destination, mode="driving")
    return directions_result[0]['overview_polyline']['points']

def main():
    st.title("Route Planning App")

    starting_point_a = st.text_input("Enter Starting Point A:")
    starting_point_b = st.text_input("Enter Starting Point B:")
    meeting_point = st.text_input("Enter Meeting Point:")
    destination = st.text_input("Enter Destination:")

    if starting_point_a and starting_point_b and meeting_point and destination:
        # Get directions for routes A and B
        route_a = get_directions(starting_point_a, meeting_point)
        route_b = get_directions(starting_point_b, meeting_point)

        # Get directions for the common route from meeting_point to destination
        common_route = get_directions(meeting_point, destination)

        # Display the map with routes
        st.map(
            {
                "route A": route_a,
                "route B": route_b,
                "common route": common_route,
            },
            use_container_width=True,
        )

if __name__ == "__main__":
    main()
